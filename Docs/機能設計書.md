# BabySteps アプリ 機能設計書

## 1. アプリ概要

### 1.1 アプリ名
BabySteps

### 1.2 コンセプト
完了ではなく着手回数を記録するToDoアプリ。継続が苦手な人や、やらなきゃいけないことをやらない人向けに、小さな一歩を積み重ねる喜びを提供する。

### 1.3 ターゲットユーザー
- 継続が苦手な人
- やらなきゃいけないことをやらない人
- 学習やスキルアップを目指す人

### 1.4 使用シーン
- 毎日の習慣管理
- プロジェクト管理
- 学習記録
- その他、継続したいこと全般

## 2. 基本機能

### 2.1 タスク管理
#### 2.1.1 タスク作成
- タスク名
- 説明（オプション）
- カテゴリ（習慣、プロジェクト、学習など）
- 優先度（低・中・高）
- 目標着手回数（オプション）

#### 2.1.2 タスク編集
- タスク名・説明の変更
- カテゴリ・優先度の変更
- 目標着手回数の変更

#### 2.1.3 タスク削除
- 確認ダイアログ付き

### 2.2 着手記録
#### 2.2.1 着手ボタン
- タスク一覧からワンタップで着手記録
- 着手時刻を自動記録
- 着手回数カウンターをインクリメント

#### 2.2.2 着手履歴
- 日時別の着手履歴表示
- カレンダービューでの着手記録確認

### 2.3 完了管理
#### 2.3.1 完了記録
- 完了ボタンで完了状態に変更
- 完了日時を記録
- 着手回数は保持

#### 2.3.2 完了タスクの扱い
- 完了したタスクは別セクションに移動
- 完了タスクの統計表示
- 完了タスクの再アクティブ化（必要に応じて）

## 3. 表示・UI機能

### 3.1 メイン画面
#### 3.1.1 タスク一覧
- アクティブタスクの表示
- 着手回数、優先度、カテゴリの表示
- 着手ボタン、完了ボタンの配置

#### 3.1.2 完了タスク一覧
- 完了したタスクの表示
- 完了日時、最終着手回数の表示

### 3.2 統計・分析画面
#### 3.2.1 着手回数統計
- 日別着手回数グラフ
- 週別・月別の傾向
- カテゴリ別の着手回数

#### 3.2.2 継続日数
- 連続着手日数
- 最長継続記録
- 現在の継続状況

### 3.3 カレンダー画面
- 日別の着手記録をカレンダー形式で表示
- 着手した日は視覚的にマーク
- タップで詳細表示

## 4. データ管理

### 4.1 データ構造
#### 4.1.1 タスク
```swift
struct Task {
    let id: UUID
    var name: String
    var description: String?
    var category: TaskCategory
    var priority: Priority
    var targetAttempts: Int?
    var isCompleted: Bool
    var createdAt: Date
    var completedAt: Date?
}
```

#### 4.1.2 着手記録
```swift
struct Attempt {
    let id: UUID
    let taskId: UUID
    let timestamp: Date
}
```

### 4.2 データ永続化
- SwiftDataを使用したローカルデータベース
- タスク、着手記録、完了記録の保存
- データの自動バックアップ

## 5. 追加機能（将来実装）

### 5.1 iCloud同期
- 複数デバイス間でのデータ同期
- 家族共有でのタスク管理

### 5.2 通知機能
- 定期的なリマインダー
- 着手していないタスクの通知

### 5.3 データエクスポート
- CSV形式でのデータ出力
- 統計レポートの生成

## 6. 技術仕様

### 6.1 プラットフォーム
- iOS 17.0以上
- SwiftUI + SwiftData
- ローカル完結（オフライン対応）

### 6.2 アーキテクチャ
- MVVMパターン
- SwiftDataによるデータ管理
- モジュラー設計

### 6.3 パフォーマンス要件
- タスク一覧の表示：1秒以内
- 着手記録の保存：即座
- 統計計算：3秒以内

## 7. 開発フェーズ

### 7.1 Phase 1（MVP）
- 基本的なタスク管理
- 着手記録機能
- 完了管理
- 基本的な統計表示

### 7.2 Phase 2
- カレンダー表示
- 詳細な統計・分析
- UI/UXの改善

### 7.3 Phase 3
- iCloud同期
- 通知機能
- データエクスポート

## 8. 成功指標

### 8.1 ユーザーエンゲージメント
- 日次アクティブユーザー数
- 平均着手回数
- 継続使用率

### 8.2 機能使用率
- 着手記録の使用頻度
- 統計画面の閲覧率
- 完了機能の使用率